<!DOCTYPE html>
<!--
Copyright (c) 2019 Holger Voormann and others.

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0
which is available at https://www.eclipse.org/legal/epl-2.0/

SPDX-License-Identifier: EPL-2.0
-->
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Help</title>
  <link rel="stylesheet" type="text/css" href="m.css">
  <link rel="stylesheet" type="text/css" media="print" href="m_print.css">
  <script type="text/javascript" src="m.js"></script>
  <script type="text/javascript">
    var tocWidth = 360;
    var sliderWidth = 12;
    function h(a, c, d, e) {
        if (typeof _eh != 'undefined')
            _eh.h(a, '', true, d, c, e)
    };
    function v(a, c, d, e) {
        if (typeof _eh != 'undefined')
            _eh.h(a, 's', true, d, c, e)
    };
    function addEvent(o, type, fn){
       if (o.addEventListener) o.addEventListener(type, fn, false);
       else if (o.attachEvent) {
          o['e'+type+fn] = fn;
          o[type+fn] = function() { o['e'+type+fn](window.event); }
          o.attachEvent('on'+type, o[type+fn]);
       }
    }
    function updateContentFrameSize() {
        // see https://stackoverflow.com/a/49261999 and https://stackoverflow.com/a/819455
        var contentFrame = document.getElementById('m-content');
        var contentFrameDocument = contentFrame.contentWindow.document;
        var contentFrameDocumentElement = contentFrameDocument.documentElement || contentFrameDocument.body;
        var magic = 1;

        // start with 0x0 (otherwise issues in Chrome)
        contentFrame.width  = '0';
        contentFrame.height  = '0';

        // available/required width
        // var innerWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var clientWidth = document.documentElement.clientWidth || document.body.clientWidth;
        var widthAvailable = clientWidth - tocWidth - magic;
        var widthMinRequired = contentFrameDocumentElement.scrollWidth;
        contentFrame.width  = (widthMinRequired > widthAvailable ? widthMinRequired : widthAvailable) + 'px';
        contentFrame.height = contentFrameDocumentElement.scrollHeight + 'px';

        // with vertical scrollbar less space is available
        var newClientWidth = document.documentElement.clientWidth || document.body.clientWidth;
        if (newClientWidth < clientWidth) {
            widthAvailable = newClientWidth - tocWidth - magic;
            contentFrame.width  = (widthMinRequired > widthAvailable ? widthMinRequired : widthAvailable) + 'px';
            contentFrame.height = contentFrameDocumentElement.scrollHeight + 'px';
        }
        //console.log("clientWidth=" + clientWidth);
        //console.log("newClientWidth=" + newClientWidth);
        // Show TOC if window is wide enough
        if( clientWidth > 768 ) {
            var toc = document.getElementById('m-aside');
            var tocStyle =  toc.currentStyle ? toc.currentStyle.display : getComputedStyle(toc, null).display;
            toc.style.display = "table-cell";
        }
    }
    function initContentFrame() {
        updateContentFrameSize();
        addEvent(window, 'resize', updateContentFrameSize);
    }
    function initSearchField() {
        var callbackFn = function(responseText) {
            var nodes = getNodes(parseXml(responseText));
            var firstId;
            var tocs = [];
            for (var i = 0; i < nodes.length; i++) {
                 var n = nodes[i];
                 if (n.tagName != 'node') continue;
                 var title = n.getAttribute('title');
                 var id = n.getAttribute('id');
                 var href = n.getAttribute('href');
                 if (!firstId) firstId = id;
                 tocs.push(title ? title : '');
                 tocs.push(id ? id : '');
                 tocs.push(href  ? href : '');
            }
            _eh.e(document.getElementById('f'), tocs, firstId, true, 10,
                function shortenBookName(bookName) {
                    return bookName.replace(
                            /\s+Documentation(\s+\-\s+[0-9,\-]+\s+Preview)?$/i,
                            '')
                });
        }
        var request = new XMLHttpRequest();
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200)
                callbackFn(request.responseText);
        }
        request.open('GET', '../../advanced/tocfragment');
        request.send();
    };

    function remoteRequest(url, callbackFn) {
        var request = new XMLHttpRequest();
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200)
                callbackFn(request.responseText);
        }
        request.open('GET', url);
        request.send();
        if (openRequest && openRequest.abort) openRequest.abort();
        if (!uncancelable) openRequest = request;
    }

    var parseXml;
    if (typeof window.DOMParser != "undefined") {
        parseXml = function(xmlStr) {
            return (new window.DOMParser()).parseFromString(xmlStr, "text/xml");
        };
    } else if (typeof window.ActiveXObject != "undefined" &&
           new window.ActiveXObject("Microsoft.XMLDOM")) {
        parseXml = function(xmlStr) {
            var xmlDoc = new window.ActiveXObject("Microsoft.XMLDOM");
            xmlDoc.async = "false";
            xmlDoc.loadXML(xmlStr);
            return xmlDoc;
        };
    }

    function init() {

        // load TOC
        var callbackFn = function(responseText) {
            var start = responseText.indexOf('title="Topic View" src=\'');

            if( start > 0) {
                var end = responseText.indexOf("'", start + 24);
                document.getElementById('m-content').src = '../' + responseText.substring(start + 24, end).replace(/&#47;/g, '/').replace(/&#46;/g, '.');
                loadTocChildrenInit(document.getElementById('m-toc'));
            }
        }
        var request = new XMLHttpRequest();
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200)
                callbackFn(request.responseText);
        }
        request.open('GET', '../../advanced/content.jsp');
        request.send();

        // activate slider (to resize TOC width)
        var slider = document.getElementById("m-slider");
        slider.mousemove = function (e) {
            tocWidth = e.pageX + 8;
            if (tocWidth < sliderWidth) tocWidth = sliderWidth;
            var asideStyle = document.getElementsByTagName('aside')[0].style;
            asideStyle.transition = '';
            asideStyle.width = tocWidth + 'px';
            document.getElementById("m-slider").setAttribute('class', '');
            updateContentFrameSize();
        };
        slider.onmousedown = function (e) {
            try{
                document.getElementById("m-ovrl").style.display = 'block';
                document.documentElement.addEventListener('mousemove', slider.doDrag, false);
                document.documentElement.addEventListener('mouseup', slider.stopDrag, false);
            } catch (e) {
            }
        }
        slider.doDrag = function (e) {
            if (e.which != 1){
                slider.stopDrag(e);
                return;
            }
            slider.mousemove(e);
        }
        slider.stopDrag = function (e) {
            document.getElementById("m-ovrl").style.display = 'none';
            document.documentElement.removeEventListener('mousemove', slider.doDrag, false);
            document.documentElement.removeEventListener('mouseup', slider.stopDrag, false);
        }
        var toggle_toc = function (e) {
            tocWidth = -tocWidth;
            var asideStyle = document.getElementsByTagName('aside')[0].style;
            asideStyle.transition = 'width .25s ease-in';
            asideStyle.width = (tocWidth < sliderWidth ? sliderWidth : tocWidth) + 'px';
            document.getElementById("m-slider").setAttribute('class', tocWidth < sliderWidth ? 'o' : '');
            updateContentFrameSize();
        }
        slider.ondblclick = toggle_toc;
        document.getElementById("m-slider_").onclick = toggle_toc;

        // Initialize go to top button
        topButton = document.getElementById("f-toTopBtn");
    }

    // TODO remove when integrated into Eclipse
    // (the following function is only required to support older Eclipse versions having GIF instead of SVG icons)
    var iconExtension = '.svg';
    function loadTocChildrenInit(item, toc, path) {
        var callbackFn = function(responseText) {
            if(responseText.indexOf('"images/e_restore.gif"') > 0) {
                iconExtension = '.gif';
            }
            loadTocChildren(item, toc, path);
        }
        var request = new XMLHttpRequest();
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200)
                callbackFn(request.responseText);
        }
        request.open('GET', '../../advanced/contentToolbar.jsp');
        request.send();
    }

    function loadTocChildren(item, toc, path) {
        var callbackFn = function(responseText) {
            showLoadedTocChildren(item, parseXml(responseText), toc, path);
        }
        var request = new XMLHttpRequest();
        request.onreadystatechange = function() {
            if (request.readyState == 4 && request.status == 200)
                callbackFn(request.responseText);
        }
        request.open('GET', '../../advanced/tocfragment' + (toc ? '?toc=' + toc : '') + (path ? '&path=' + path : ''));
        request.send();
    }

    function createElement(parent, name, clazz, text) {
        var element = document.createElement(name);
        if (parent) {
            parent.appendChild(element);
        }
        if (clazz) {
            element.setAttribute('class', clazz);
        }
        if (text) {
            element.appendChild(document.createTextNode(text));
        }
        return element;
    }

    function getNodes(xml, toc, path) {
        var books = xml.documentElement.childNodes;
        if (!toc) return books;
        var book;
        for (var i = 0; i < books.length; i++) {
            book = books[i];
            if (book.tagName == 'node' && toc == book.getAttribute('id')) {
                if (!path) return book.childNodes;
                break;
            }
        }
        var nodes = book.childNodes;
        tocLevelLoop: while (true) {
            for (var i = 0; i < nodes.length; i++) {
                n = nodes[i];
                if (n.tagName != 'node') continue;
                var id = n.getAttribute('id');
                if (path == id) return n.childNodes;
                if (id && path.length > id.length && path.substring(0, id.length + 1) == id + '_') {
                    nodes = n.childNodes;
                    continue tocLevelLoop;
                }
            }
            break;
        }
        return [];
    }

    function showLoadedTocChildren(item, xml, toc, path) {
        var ul = createElement(item, 'ul');
        var nodes = getNodes(xml, toc, path);
        for (var i = 0; i < nodes.length; i++) {
            var n = nodes[i];
            if (n.tagName != 'node') continue;
            var li = createElement(ul, 'li', 'closed');
            if (n.getAttribute('is_leaf') != 'true') {
                var handle = createElement(li, 'span');
                handle.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation">-<path d="M10.294 9.698a.988.988 0 0 1 0-1.407 1.01 1.01 0 0 1 1.419 0l2.965 2.94a1.09 1.09 0 0 1 0 1.548l-2.955 2.93a1.01 1.01 0 0 1-1.42 0 .988.988 0 0 1 0-1.407l2.318-2.297-2.327-2.307z" fill="currentColor" fill-rule="evenodd"></path></svg>';
                addEvent(handle, 'click', (function(li, toc, path) {
                    return function() { toggleTocItem(li, toc, path) };
                })(li, toc ? toc : n.getAttribute('id'), toc ? n.id : undefined));
            }
            var a = createElement(li, 'a');
            a.setAttribute('href', '../../' + n.getAttribute('href').substring(3));
            a.setAttribute('target', 'm-content');
            var icon = n.getAttribute('image');
            if (icon) {
                var iconImg = createElement(a, 'img');
                iconImg.setAttribute('src', '../../advanced/images/' + icon + iconExtension);
            }
            a.appendChild(document.createTextNode(n.getAttribute('title')));
        }
        updateContentFrameSize();
    }
    function toggleTocItem(li, toc, path) {
        var isOpen = li.getAttribute('class') == 'open' || li.getAttribute('class') == 'open loaded';
        li.setAttribute('class', isOpen ? 'closed' : 'open');
        var nodes = li.childNodes;
        for (var i = 0; i < nodes.length; i++) {
            if (nodes[i].tagName == 'UL') return;
        }
        loadTocChildren(li, toc, path);
    }


    // Prints current loaded topic
    function printContent()
    {
        var content = document.getElementById('m-content');
        try {
            orgTitle = document.title;
            document.title=content.contentDocument.title;
            window.print();
            // Reset the title again to the original value
            document.title=orgTitle;
        } catch(e) {}
    }

    // TODO
    function printSection() {
        return true;
        /*
        var content = document.getElementById('m-content');
        var url = content.contentDocument.location.href;
        var topic = url.substr( url.indexOf('/help/topic/'), url.length );
        topic = topic.replace('/help/topic/', '');
        //console.log("topic" + topic);
        window.location.href = '../../advanced/print.jsp?topic=' + topic;
        */
    }

    // Opens requested topic
    function openTopic(topic) {
        window.location.href = topic;
    }

    // Opens hamburger menu
    function openMenu() {
        var menu = document.getElementById("h-menu-content")
        menu.style.display = 'block';
        menu.style.left = 'auto';
        menu.style.right = 0;
    }
    // Closes hamburger menu if the user clicks outside of it
    window.onclick = function(event) {
      if ( event.target.id != 'h-mbtn' && event.target.id != 'h-hamburger' ) {
        document.getElementById("h-menu-content").style.display = 'none';
      }
    }

    // Show or hide the table of contents
    function toggleToc() {
        var toc = document.getElementById('m-aside');
        var content = document.getElementById('m-content');
        var tocStyle =  toc.currentStyle ? toc.currentStyle.display : getComputedStyle(toc, null).display;
        toc.style.transition = "transform .25s, color .25s, -webkit-transform .25s, -moz-transform .25s, -o-transform .25s";
        if (tocStyle == "none") {
            toc.style.animation = "fly-right 3s ease-in forwards";
            content.style.margin = "20px 0";
        } else {
            toc.style.animation = "fly-left 3s ease-in forwards";
            content.style.margin = "0 0";
        }
        toc.style.display = tocStyle == "none" ? "table-cell" : "none";
    }

    // Sets cursor in search field
    function focusSearch() {
        document.getElementById('focusByDefault').focus();
    }

    // Check if run locally as standalone help viewer
    function isLocalHelp() {
        var url = window.location.href;
        var urlRoot = url.substr( 0, url.indexOf('/help/') );
        // TODO check also urlRoot.includes('//localhost:')
        if ( ! urlRoot.includes("127.0.0.1:") ) { return true; }
        else { return false; }
    }

    // Show browsing buutons when run locally as help viewer
    function showHistoryButtons() {
        document.getElementById('h-history-back').style.display = 'inline-block';
    }

    // Go one page back in browser history
    // (required in standalone help viewer only)
    function goBack() {
          window.history.back();
    }

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          topButton.style.display = "block";
      } else {
          topButton.style.display = "none";
      }
    }

    // When the user clicks on the button, scroll to the top of the document
    function scrollToTop() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }

  </script>
</head>
<body onload="initSearchField();initContentFrame();init();">
  <div id="container">
      <div id="m-ovrl"></div>
      <header>
        <div id="h-home">
            <a href="m.html" title="Home">
                <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTYgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCjxkZWZzPg0KPGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iMTIuMTA4IiB4Mj0iMTIuMTA4IiB5MT0iMi43OTIzIiB5Mj0iMTcuODMzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+DQo8c3RvcCBzdG9wLWNvbG9yPSIjZjdmZGZmIiBvZmZzZXQ9IjAiLz4NCjxzdG9wIHN0b3AtY29sb3I9IiNlOGYwZjUiIG9mZnNldD0iMSIvPg0KPC9saW5lYXJHcmFkaWVudD4NCjwvZGVmcz4NCjxtZXRhZGF0YT4NCjxyZGY6UkRGPg0KPGNjOldvcmsgcmRmOmFib3V0PSIiPg0KPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+DQo8ZGM6dHlwZSByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIi8+DQo8ZGM6dGl0bGUvPg0KPC9jYzpXb3JrPg0KPC9yZGY6UkRGPg0KPC9tZXRhZGF0YT4NCjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTEwMzYuNCkiPg0KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTguMjIwMSAtMTIuOTA1KSI+DQo8cGF0aCB0cmFuc2Zvcm09Im1hdHJpeCguNjU5ODUgMCAwIC42NTk4NSA4LjM3NDQgMTA0OS42KSIgZD0ibTIxLjgxMiAxMS42ODhhOS44NzUgOS44NzUgMCAxIDEtMTkuNzUgMCA5Ljg3NSA5Ljg3NSAwIDEgMSAxOS43NSAweiIgZmlsbD0idXJsKCNhKSIgc3Ryb2tlPSIjNTQ2NzgyIiBzdHJva2Utd2lkdGg9IjEuNTE1NSIvPg0KPHBhdGggZD0ibTE2LjE5OSAxMDUyLjJjLTAuOTg5MzYgMC0xLjc3OTIgMC4yNzUxLTIuMzgxOSAwLjgyODUtMC42MDI3IDAuNTUzNC0wLjkxNjgyIDEuMzItMC45NTI3OCAyLjI3ODRsMS42MzYzIDAuMjA3MWMwLjA1MzgtMS4xODUgMC41OTYxNy0xLjc2MDYgMS41OTQ5LTEuNzYwNiAwLjQyMjc1IDAgMC43NjU3NyAwLjEwODIgMS4wMzU2IDAuMzUyMiAwLjI2OTg1IDAuMjQ0IDAuMzkzNTMgMC41NTczIDAuMzkzNTQgMC45MzItNmUtNiAwLjM0ODYtMC4xMjA4MiAwLjY0OTktMC4zNzI4MyAwLjkxMTMtMC4xMzQ3OSAwLjEzOTQtMC40MDI4OCAwLjM0ODEtMC44MDc3OSAwLjYwMDgtMC4zNjg2OCAwLjIyNjUtMC42MDggMC40ODUyLTAuNzI0OTQgMC44MDc3LTAuMTA4MTYgMC4yNzAyLTAuMTY1NyAwLjY4NTItMC4xNjU3IDEuMjQyOHYwLjc0NTZoMS41MTJ2LTAuNDc2NGMtNWUtNiAtMC41NDg5IDAuMjM2NDQtMC45NzAzIDAuNzA0MjMtMS4yODQxIDAuNjExODktMC40MTgzIDEuMDI5Ni0wLjc4OTYgMS4yNjM1LTEuMDc3MSAwLjMyMzY1LTAuNDE4MyAwLjQ5NzA5LTAuOTIyNiAwLjQ5NzEtMS41MzI3LTdlLTYgLTAuODM2Ni0wLjMzNDk3LTEuNTI3Ny0wLjk3MzQ5LTIuMDUwNS0wLjYxMTktMC40ODgtMS4zNjcxLTAuNzI1LTIuMjU3Ny0wLjcyNXoiIGZpbGw9IiM0NzViNzgiLz4NCjxwYXRoIHRyYW5zZm9ybT0ibWF0cml4KDEuNzc3NiAwIDAgMi40NTIgLTUuMSAxMDIwLjYpIiBkPSJtMTIuNTc2IDE2LjUzMWEwLjY0MzU3IDAuMzk3NzUgMCAxIDEtMS4yODcxIDAgMC42NDM1NyAwLjM5Nzc1IDAgMSAxIDEuMjg3MSAweiIgZmlsbD0iIzQ3NWI3OCIvPg0KPC9nPg0KPC9nPg0KPC9zdmc+DQo="/>
            </a>
        </div>
        <button id="h-toc-btn" onclick="toggleToc()" title="Table of contents"><span id="h-toc-toggle"></span></button>
        <div id="h-search">
            <form id="f" class="f" action="/help/index.jsp" target="_top" method="GET" accept-charset="utf-8">
              <input type="hidden" name="tab" value="search">
              <input id="focusByDefault" name="searchWord"
              alt="&#42; &#61; any string&#44; &#63; &#61; any character&#44; &#34;&#34; &#61; phrase&#44; AND&#44; OR&#44; NOT &#61; boolean operators "
              title="&#42; &#61; any string&#44; &#63; &#61; any character&#44; &#34;&#34; &#61; phrase&#44; AND&#44; OR&#44; NOT &#61; boolean operators ">
              <input class="s" type="submit" value="">
              <input id="b" type="hidden" name="b" value="">
            </form>
        </div>
        <button id="h-history-back-btn" onclick="goBack()" title="Go back"><span id="h-history-back"></span></button>
        <div id="h-menu">
            <button id="h-mbtn" onclick="openMenu()" title="Help menu"><span id="h-hamburger"></span></button>
            <div id="h-menu-content">
                <button onclick="printContent();" title="Print selected topic">Print topic</button>
                <button onclick="printSection();" title="Print selected topic and all subtopics">Print section</button>
                <button onclick="openTopic('../com.verigy.itee.help.smartest.ui.8.3.1/244454.htm');" title="How to use help">Help</button>
                <button onclick="openTopic('about.html');" title="About help">About</button>
            </div>
        </div>
      </header>
      <main>
          <aside id="m-aside">
            <nav id="m-toc"></nav>
            <div id="m-slider"><div id="m-slider_"><span></span></div></div>
          </aside>
          <div class="m-content">
            <iframe id="m-content" name="m-content" onload="initContentFrame()" frameborder="0" scrolling="no" allowfullscreen></iframe>
          </div>
      </main>
      <footer>
       <p>&nbsp;<!-- add copyright here -->&nbsp;</p>
       <button onclick="scrollToTop()" id="f-toTopBtn" title="Go to top"></button>
      </footer>
    </div>
</body>
</html>